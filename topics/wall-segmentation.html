<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Project - Wall Segmentation in Floorplans</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="topic-styles.css">
    <link rel="stylesheet" href="wall-segmentation-styles.css">
    <script src="../projects-data.js"></script>
</head>
<body>
    <div class="notebook">
        <div class="notebook-page">
            <a href="../index.html" class="back-link">‚Üê Back to Projects</a>
            
            <div class="project-header" id="project-header">
                <!-- Header content will be loaded dynamically -->
            </div>

            <div class="handwritten">

                <section class="section">
                    <h2>The Challenge</h2>
                    <div class="content">
                        <p>Identifying walls in floorplan images might sound simple, but it's actually quite tricky. Floorplans have overlapping elements, different wall thicknesses, furniture, doors, and various architectural styles, which make automatic wall detection challenging.</p>
                        
                        <p>I used Mask R-CNN to tackle this problem. It can identify and segment objects at the pixel level, which is exactly what's needed for accurate wall detection.</p>

                        <div class="margin-note">
                            <strong>Note:</strong> Accurate wall segmentation is fundamental for subsequent tasks like room detection and 3D reconstruction.
                        </div>
                    </div>
                </section>

                <section class="section">
                    <h2>What Others Have Done</h2>
                    <div class="content">
                        <p>Before diving in, I looked at what other researchers had tried:</p>
                        <table class="literature-table">
                            <thead>
                                <tr>
                                    <th style="width: 25%">Paper</th>
                                    <th style="width: 15%">Focus</th>
                                    <th style="width: 20%">Strengths</th>
                                    <th style="width: 20%">Weaknesses</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td data-label="Paper"><a href="https://www.mdpi.com/2220-9964/10/12/828" target="_blank">01. Automatic Extraction of Indoor Spatial Information from Floor Plan Image</a> (https://www.mdpi.com/2220-9964/10/12/828)</td>
                                    <td data-label="Focus">Large-Scale Complex Buildings</td>
                                    <td data-label="Strengths">
                                        <ul>
                                            <li>Vectorizes objects using CNN</li>
                                            <li>Handles 4 CVC dataset formats</li>
                                            <li>87.77% detection rate</li>
                                        </ul>
                                    </td>
                                    <td data-label="Weaknesses">
                                        <ul>
                                            <li>Time-consuming (5 min/225 patches)</li>
                                            <li>85.53% recognition accuracy</li>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td data-label="Paper"><a href="https://www.mdpi.com/2076-3417/11/23/11174" target="_blank">02. Towards Robust Object Detection in Floor Plan Images</a> (https://www.mdpi.com/2076-3417/11/23/11174)</td>
                                    <td data-label="Focus">Furniture Detection</td>
                                    <td data-label="Strengths">
                                        <ul>
                                            <li>99.8% precision</li>
                                            <li>Public dataset</li>
                                            <li>16 furniture types</li>
                                        </ul>
                                    </td>
                                    <td data-label="Weaknesses">
                                        <ul>
                                            <li>Synthetic data</li>
                                            <li>Computationally intensive</li>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td data-label="Paper"><a href="https://dam-oclc.bac-lac.gc.ca/download?is_thesis=1&oclc_number=1199654049&id=5e379175-0349-4107-9c2e-aff6c6baa3f1&fileName=Cabrera-Vargas_Dany_MSc_2018.pdf" target="_blank">03. Wall Extraction and Room Detection</a> (https://dam-oclc.bac-lac.gc.ca/download?is_thesis=1&oclc_number=1199654049&id=5e379175-0349-4107-9c2e-aff6c6baa3f1&fileName=Cabrera-Vargas_Dany_MSc_2018.pdf)</td>
                                    <td data-label="Focus">Multi-Unit Floor Plans</td>
                                    <td data-label="Strengths">
                                        <ul>
                                            <li>Combines wall/room detection</li>
                                            <li>Handles overlapping elements</li>
                                        </ul>
                                    </td>
                                    <td data-label="Weaknesses">
                                        <ul>
                                            <li>Complex approach</li>
                                            <li>Limited testing</li>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td data-label="Paper"><a href="https://www.sciencedirect.com/science/article/abs/pii/S0926580522002217" target="_blank">04. Deep Floor Plan Recognition</a> (https://www.sciencedirect.com/science/article/abs/pii/S0926580522002217)</td>
                                    <td data-label="Focus">Multi-Task Network</td>
                                    <td data-label="Strengths">
                                        <ul>
                                            <li>Room-boundary attention</li>
                                            <li>Handles complex shapes</li>
                                        </ul>
                                    </td>
                                    <td data-label="Weaknesses">
                                        <ul>
                                            <li>Requires fine-tuning</li>
                                            <li>High computational cost</li>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td data-label="Paper"><a href="https://arxiv.org/abs/1908.11025" target="_blank">05. Parsing Line Segments</a> (https://arxiv.org/abs/1908.11025)</td>
                                    <td data-label="Focus">Graph Neural Networks</td>
                                    <td data-label="Strengths">
                                        <ul>
                                            <li>Graph-based approach</li>
                                            <li>Captures relationships</li>
                                        </ul>
                                    </td>
                                    <td data-label="Weaknesses">
                                        <ul>
                                            <li>Complex implementation</li>
                                            <li>Expertise required</li>
                                        </ul>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="key-takeaways">
                            <h3>Takeaways</h3>
                            <ul>
                                <li>CNN models work better than traditional approaches</li>
                                <li>Mask R-CNN outperforms simpler detection methods</li>
                                <li>These techniques handle complex multi-unit floorplans well</li>
                                <li>Combining multiple tasks improves overall performance</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="section">
                    <h2>Mask R-CNN</h2>
                    <div class="content">
                        <p>I chose Mask R-CNN because it combines object detection and instance segmentation in one model, providing pixel-level accuracy for wall boundaries while handling complex floorplan layouts well.</p>

                        <div class="result-item" style="max-width: 800px; margin: 20px auto;">
                            <img src="../images/mask-r-cnn-framework-for-instance-segmentation-1.jpg" alt="Mask R-CNN Framework for Instance Segmentation">
                            <p style="text-align: center; font-style: italic;">Mask R-CNN Framework for Instance Segmentation. Source: <a href="https://viso.ai/deep-learning/mask-r-cnn/" target="_blank">viso.ai</a> (https://viso.ai/deep-learning/mask-r-cnn/)</p>
                        </div>

                        <p>The architecture uses a backbone network (ResNet-101) to extract features, a Region Proposal Network to identify potential wall regions, and a mask branch to generate pixel-level segmentation masks. This allows it to accurately detect and segment individual wall instances even in complex architectural layouts.</p>
                    </div>
                </section>

                <section class="section">
                    <h2>Training Data</h2>
                    <div class="content">
                        <p>I used the <a href="https://universe.roboflow.com/floor-plan-segmentation/new_segmentation_plan" target="_blank">Floor Plan Segmentation dataset from Roboflow</a> with about 5,000 floorplan images with high-quality polygon annotations. The dataset is diverse and covers various architectural styles.</p>
                    </div>
                </section>

                <section class="section">
                    <h2>Early Experimental Results</h2>
                    <div class="content">
                        <div class="experiment-details">
                            <h3>What I Trained</h3>
                            <div class="training-notes">
                                <p>For this initial experiment, I used:</p>
                                <ul>
                                    <li>1,000 training images (out of 4,986 available)</li>
                                    <li>100 validation images</li>
                                    <li>2 epochs (planning to train for 20 eventually)</li>
                                    <li>Final loss: ~2.8 (target is ~1)</li>
                                </ul>
                                <p class="note">These results are promising considering I only used 20% of the available data and just 2 epochs.</p>
                            </div>

                            <h3>Results</h3>
                            <div class="results-grid">
                                <div class="result-item">
                                    <h4>Original Image</h4>
                                    <img src="../images/original.jpg" alt="Original floorplan image">
                                </div>
                                <div class="result-item">
                                    <h4>Bounding Boxes</h4>
                                    <img src="../images/bounding-boxes.png" alt="Floorplan with bounding boxes">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="section">
                    <h2>Additional Resources</h2>
                    <div class="content">
                        <ul>
                            <li>
                                <a href="https://github.com/cansik/architectural-floor-plan" target="_blank">Automatic analysis and simplification of architectural floor plans (Kotlin)</a> (https://github.com/cansik/architectural-floor-plan)
                                <p>A Kotlin-based tool that analyzes and simplifies architectural floor plans by detecting and extracting structural elements.</p>
                            </li>
                            <li>
                                <a href="https://github.com/dwnsingh/Object-Detection-in-Floor-Plan-Images" target="_blank">Example model training</a> (https://github.com/dwnsingh/Object-Detection-in-Floor-Plan-Images)
                                <p>A comprehensive example demonstrating how to train object detection models specifically for floor plan images.</p>
                            </li>
                            <li>
                                <a href="https://github.com/AarohiSingla/Mask-RCNN-on-Custom-Dataset-2classes-" target="_blank">Mask R-CNN implementation example</a> (https://github.com/AarohiSingla/Mask-RCNN-on-Custom-Dataset-2classes-)
                                <p>A practical implementation of Mask R-CNN for custom datasets with two classes, providing a clear example of the model's application.</p>
                            </li>
                        </ul>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <script>
        function toggleCode(id) {
            const content = document.getElementById(id);
            content.classList.toggle('active');
        }

        function copyCode(id) {
            const codeBlock = document.getElementById(id).querySelector('code');
            const textArea = document.createElement('textarea');
            textArea.value = codeBlock.textContent;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            
            // Show copied notification
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'Copied!';
            setTimeout(() => {
                button.textContent = originalText;
            }, 2000);
        }

        // Load project data dynamically
        document.addEventListener('DOMContentLoaded', function() {
            const projectData = getProjectData('wall-segmentation');
            
            // Populate header with description before tags and date
            const headerElement = document.getElementById('project-header');
            headerElement.innerHTML = `
                <h1>${projectData.title}</h1>
                <div class="project-description" style="margin: 20px 0;">
                    <p>${projectData.description}</p>
                </div>
                <div class="project-meta">
                    <p>${projectData.dateLabel}: ${projectData.date}</p>
                    <div class="project-tags">
                        ${projectData.tags.map(tag => `<span class="tag">${tag}</span>`).join('\n                        ')}
                    </div>
                </div>
            `;
        });
    </script>
</body>
</html> 