<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Project - Ultrasound Bone Segmentation for Prosthesis Design</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="topic-styles.css">
    <link rel="stylesheet" href="ultrasound-segmentation-styles.css">
    <script src="../projects-data.js"></script>
    <script src="ultrasound-content-obfuscated.js"></script>
</head>
<body>
    <div class="notebook">
        <div class="notebook-page">
            <a href="../index.html" class="back-link">‚Üê Back to Projects</a>
            
            <div class="project-header" id="project-header">
                <!-- Header content will be loaded dynamically -->
            </div>

            <!-- Security Lock Overlay -->
            <div id="security-overlay" class="security-overlay">
                <div class="lock-container">
                    <div class="lock-icon">üîí</div>
                    <h2>Content Restricted</h2>
                    <p class="restriction-message">
                        This project contains sensitive medical research data and proprietary algorithms. 
                        Access is restricted due to confidentiality agreements and ongoing patent applications.
                    </p>
                    <div class="security-notice">
                        <p><strong>Reason for Restriction:</strong></p>
                        <ul>
                            <li>Confidential medical imaging algorithms</li>
                            <li>Proprietary prosthesis design methodology</li>
                            <li>Pending patent applications</li>
                            <li>Non-disclosure agreements with medical partners</li>
                        </ul>
                    </div>
                    <div class="contact-info">
                        <p>For access inquiries, please contact the research team.</p>
                    </div>
                </div>
            </div>

            <!-- Hidden Content Container -->
            <div id="hidden-content" class="hidden-content" style="display: none;">

                <section class="section">
                    <h2>‚ö†Ô∏è Confidentiality Notice</h2>
                    <div class="content">
                        <p>This is a confidential project, so I can't share code or sensitive details. What I'm sharing here is a high-level methodology and technical considerations for approaching this problem.</p>
                    </div>
                </section>

                <section class="section">
                    <h2>The Challenge</h2>
                    <div class="content">
                        <p>Custom prosthesis design traditionally relies on manual measurements of a patient's residual limb by orthopedic technicians. This process is time-consuming and introduces variability between practitioners.</p>
                        
                        <p>An alternative approach worth exploring: combining ultrasound imaging with deep learning to automatically identify bone and tissue structures, potentially making prosthesis design faster, more accurate, and more consistent.</p>
                    </div>
                </section>

                <section class="section">
                    <h2>Methodology: nnU-Net for Medical Segmentation</h2>
                    <div class="content">
                        <p><strong>nnU-Net v2</strong> is widely regarded as the gold standard for medical image segmentation. Key advantages for ultrasound applications:</p>
                        <ul>
                            <li>Self-configuring architecture that adapts to different datasets without manual tuning</li>
                            <li>Proven performance in medical imaging benchmarks</li>
                            <li>Robust handling of ultrasound-specific artifacts (speckle noise, acoustic shadows)</li>
                            <li>Effective even with limited training data</li>
                        </ul>

                        <div class="margin-note">
                            <strong>Technical Note:</strong> nnU-Net's automatic configuration includes preprocessing, network architecture selection, and training strategy optimization based on dataset properties.
                        </div>
                    </div>
                </section>

                <section class="section">
                    <h2>Data Considerations</h2>
                    <div class="content">
                        <p>For ultrasound bone segmentation, combining multiple data sources can improve model robustness:</p>
                        <ul>
                            <li><strong>Project-specific data:</strong> Custom collected images for the target application</li>
                            <li><strong>Large-scale datasets:</strong> The <a href="https://arxiv.org/pdf/2502.03783" target="_blank">UltraBones100k dataset</a> offers over 100,000 labeled ultrasound images with diverse bone structures</li>
                        </ul>

                        <p>The UltraBones100k dataset's automated labeling method and anatomical diversity provide a strong foundation for generalization across different ultrasound devices and patient variations.</p>
                    </div>
                </section>

                <section class="section">
                    <h2>Early Results</h2>                    <div class="content">
                        <p>Initial testing demonstrates the feasibility of this approach:</p>

                        <div class="video-container">
                            <img src="../images/kidis_leg_segmentation.gif" alt="Bone segmentation on ultrasound scan">
                            <p style="font-style: italic; margin-top: 10px;">Example: Automated bone structure identification in ultrasound imaging</p>
                        </div>

                        <p>Key observations from early experiments:</p>
                        <ul>
                            <li>Stable segmentation across varying scan angles and depths</li>
                            <li>Robust performance despite common ultrasound artifacts (shadows, speckle noise)</li>
                            <li>Real-time processing capability for clinical workflow integration</li>
                        </ul>

                        <div class="margin-note">
                            <strong>Note:</strong> These results represent initial feasibility testing focused on bone segmentation.
                        </div>
                    </div>
                </section>

                <section class="section">
                    <h2>Why This Matters</h2>                    <div class="content">
                        <p>If validated at scale, this methodology could offer several advantages:</p>
                        <ul>
                            <li>Reduced inter-practitioner variability in measurements</li>
                            <li>Improved prosthesis fit accuracy</li>
                            <li>Shorter design cycle times</li>
                            <li>Remote analysis capabilities for underserved areas</li>
                            <li>Lower dependency on specialized technician availability</li>
                        </ul>
                    </div>
                </section>

            </div>
        </div>
    </div>

    <script>
        // Security and obfuscation functions
        function obfuscateString(str) {
            return btoa(str).split('').reverse().join('');
        }
        
        function deobfuscateString(str) {
            return atob(str.split('').reverse().join(''));
        }
        
        // Security validation
        function validateAccess() {
            // Multiple security checks
            const checks = [
                () => window.location.hostname === 'localhost' || window.location.hostname.includes('github.io'),
                () => !window.location.search.includes('debug'),
                () => !window.location.search.includes('bypass'),
                () => !document.cookie.includes('bypass_security'),
                () => !localStorage.getItem('security_bypass'),
                () => !sessionStorage.getItem('security_bypass'),
                () => Date.now() > new Date('2025-01-01').getTime(), // Time-based check
                () => !window.location.hash.includes('unlock'),
                () => navigator.userAgent.indexOf('bot') === -1, // Block bots
                () => !window.location.protocol.includes('file:') // Block local file access
            ];
            
            return checks.every(check => {
                try {
                    return check();
                } catch (e) {
                    return false;
                }
            });
        }
        
        // Anti-tampering measures
        function setupSecurityMeasures() {
            // Prevent right-click context menu
            document.addEventListener('contextmenu', e => e.preventDefault());
            
            // Prevent F12, Ctrl+Shift+I, Ctrl+U, Ctrl+S, Ctrl+A
            document.addEventListener('keydown', function(e) {
                if (e.key === 'F12' || 
                    (e.ctrlKey && e.shiftKey && e.key === 'I') ||
                    (e.ctrlKey && e.key === 'u') ||
                    (e.ctrlKey && e.key === 's') ||
                    (e.ctrlKey && e.key === 'a') ||
                    (e.ctrlKey && e.key === 'p')) {
                    e.preventDefault();
                    return false;
                }
            });
            
            // Prevent text selection
            document.addEventListener('selectstart', e => e.preventDefault());
            
            // Prevent drag and drop
            document.addEventListener('dragstart', e => e.preventDefault());
            document.addEventListener('drop', e => e.preventDefault());
            
            // Detect developer tools
            let devtools = {open: false, orientation: null};
            setInterval(function() {
                if (window.outerHeight - window.innerHeight > 200 || 
                    window.outerWidth - window.innerWidth > 200) {
                    if (!devtools.open) {
                        devtools.open = true;
                        document.body.style.display = 'none';
                        document.body.innerHTML = '<div style="text-align:center;padding:50px;"><h1>Access Denied</h1><p>Developer tools detected. This content is protected.</p></div>';
                    }
                }
            }, 500);
            
            // Obfuscate content in DOM and load from secure source
            const contentElements = document.querySelectorAll('#hidden-content *');
            contentElements.forEach(el => {
                if (el.textContent) {
                    el.setAttribute('data-obfuscated', obfuscateString(el.textContent));
                    el.textContent = '';
                }
            });
            
            // Additional security: Clear any remaining text content
            setTimeout(() => {
                const allTextNodes = document.querySelectorAll('#hidden-content *');
                allTextNodes.forEach(node => {
                    if (node.textContent && node.textContent.trim()) {
                        node.textContent = '';
                        node.style.display = 'none';
                    }
                });
            }, 100);
        }
        
        // Load project data dynamically
        document.addEventListener('DOMContentLoaded', function() {
            // Security check
            if (!validateAccess()) {
                document.body.innerHTML = '<div style="text-align:center;padding:50px;"><h1>Access Denied</h1><p>Unauthorized access attempt detected.</p></div>';
                return;
            }
            
            setupSecurityMeasures();
            
            const projectData = getProjectData('ultrasound-bone-segmentation');
            
            // Populate header with description before tags and date
            const headerElement = document.getElementById('project-header');
            headerElement.innerHTML = `
                <h1>${projectData.title}</h1>
                <div class="project-description" style="margin: 20px 0;">
                    <p>${projectData.description}</p>
                </div>
                <div class="project-meta">
                    <p>${projectData.dateLabel}: ${projectData.date}</p>
                    <div class="project-tags">
                        ${projectData.tags.map(tag => `<span class="tag">${tag}</span>`).join('\n                        ')}
                    </div>
                </div>
            `;
            
            // Ensure overlay is always visible
            document.getElementById('security-overlay').style.display = 'block';
            document.getElementById('hidden-content').style.display = 'none';
        });
    </script>
</body>
</html>
